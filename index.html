<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</title>
  <!-- å¤–éƒ¨æ¨£å¼ -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="bg">
    <img
      src="https://images.unsplash.com/photo-1762751436615-e65c7c392f93?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
      alt="Corgi background"
    />
  </div>
  <div class="app">
    <div class="card">
      <h1 class="title">ğŸ¶ å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</h1>

      <div class="field-row">
        <label for="birthDate">ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸï¼š</label>
        <input type="date" id="birthDate" />
      </div>

      <button id="calcBtn">é–‹å§‹è¨ˆç®—</button>

      <p class="error" id="errorMsg"></p>

      <div class="result-box" id="result" aria-live="polite"></div>

      <p class="note">

      </p>
    </div>
  </div>

<script>
  const DOG_NAME = "å¦™éº—";

  // æŠŠæ—¥æœŸä¸Šé™é–åœ¨ä»Šå¤©
  (function setMaxDate() {
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, "0");
    const dd = String(today.getDate()).padStart(2, "0");
    const todayStr = `${yyyy}-${mm}-${dd}`;
    document.getElementById("birthDate").setAttribute("max", todayStr);
  })();

  document.getElementById("calcBtn").addEventListener("click", function () {
    const birthStr = document.getElementById("birthDate").value;
    const resultEl = document.getElementById("result");
    const errorEl = document.getElementById("errorMsg");

    // æ²’é¸æ—¥æœŸ â†’ é¡¯ç¤ºéŒ¯èª¤ã€éš±è—çµæœ
    if (!birthStr) {
      errorEl.textContent = "è«‹å…ˆé¸æ“‡ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸã€‚";
      resultEl.textContent = "";
      resultEl.style.display = "none";
      return;
    }

    const birthDate = new Date(birthStr);
    const today = new Date();

    // é¸åˆ°æœªä¾†æ—¥æœŸ â†’ é¡¯ç¤ºéŒ¯èª¤ã€éš±è—çµæœ
    if (birthDate > today) {
      errorEl.textContent = "å‡ºç”Ÿæ—¥æœŸä¸èƒ½æ™šæ–¼ä»Šå¤©ã€‚";
      resultEl.textContent = "";
      resultEl.style.display = "none";
      return;
    }

    // æ¸…é™¤éŒ¯èª¤è¨Šæ¯
    errorEl.textContent = "";

    // è¨ˆç®—ç‹—ç‹—å¯¦éš›å¹´é½¡ï¼ˆå¹´ï¼‰
    const diffMs = today - birthDate;
    const diffYears = diffMs / (1000 * 60 * 60 * 24 * 365.25);
    const dogYears = Math.round(diffYears * 10) / 10;

    // ç°¡åŒ–è¨ˆç®—ï¼šäººé¡å¹´é½¡ = ç‹—ç‹—å¹´é½¡ Ã— 7
    const humanYears = Math.round(dogYears * 7 * 10) / 10;

    // å¡é€²çµæœå€
    resultEl.innerHTML =
      DOG_NAME +
      "ç¾åœ¨å¤§ç´„ <strong>" +
      dogYears.toFixed(1) +
      "</strong> æ­²ç‹—ç‹—å¹´é½¡ï¼Œæ›ç®—æˆäººé¡å¹´é½¡å¤§ç´„æ˜¯ <strong>" +
      humanYears.toFixed(1) +
      "</strong> æ­²ã€‚";

    // æœ‰çµæœæ‰é¡¯ç¤ºç°è‰²å€å¡Š
    resultEl.style.display = "block";
  });
</script>
</body>
</html>
